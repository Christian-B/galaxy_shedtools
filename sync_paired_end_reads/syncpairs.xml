<tool id="syncpairs" name="Sync Fasta Pairs" version="0.0.1">
    <description>Runes sncy pairs on two fastq files.</description>
    <requirements>
        <requirement type="package" version="1.66">biopython</requirement>
    </requirements>
    <stdio>
        <!-- Anything other than zero is an error -->
        <exit_code range="1:" />
        <exit_code range=":-1" />
    </stdio>
    <command interpreter="python">
        syncpairs.py $reads1 $reads2 $reads1_output $reads2_output
    </command>
    <inputs>
        <param name="reads1" type="data" format="fastq" label="R1 Fasta File" />
        <param name="reads2" type="data" format="fastq" label="R2 Fasta File" />
    </inputs>
    <outputs>
        <data name="reads1_output" format="fastq" label="Synced ${reads1.name}"/>
        <data name="reads2_output" format="fastq" label="Synced ${reads2.name}"/>
     </outputs>
    <tests>
        <!-- Large dataset in github but not toolshed -->
        <!--test>
            <param name="reads1" value="C75_S29_R1_001.fq" ftype="fastq" /> 
            <param name="reads2" value="C75_S29_R2_001.fastq" ftype="fastq" /> 
            <output name="reads1_output" file="C75_S29_R1_001_extracted.fastq" ftype="fastq" />
            <output name="reads2_output" file="C75_S29_R2_001_extracted.fastq" ftype="fastq" />
        </test-->
        <test>
            <param name="reads1" value="read1.fq" ftype="fastq" /> 
            <param name="reads2" value="read2.fastq" ftype="fastq" /> 
            <output name="reads1_output" file="read1_extracted.fastq" ftype="fastq" />
            <output name="reads2_output" file="read2_extracted.fastq" ftype="fastq" />
        </test>
    </tests>
    <help>
<![CDATA[
Description taken from source: https://github.com/mmendez12/sync_paired_end_reads

sync_paired_end_reads

sync_paired_end_reads is a python tool to synchronise paired-end reads when reads1 or reads2 were modified.

When working with paired-end sequencing data, it is common to filter out reads that do not pass basic quality controls. This leads to pairs that are not synced anymore. This tool streams reads1 and search for the associated read2 in reads2. Additionally it synchronises the sequence identifiers of the reads so if a software modified the sequence identifier of the reads1 then same identifiers will be used for reads2. Finally it replaces all space characters by an arbitrary '___' pattern.

This tool was mainly developed to process the output of tagdust2 when ran in single-end mode which appends the UMIs found in the raw sequences to the sequence identifier.
Install

]]>
    </help>
    <citations>
    </citations>
</tool>
